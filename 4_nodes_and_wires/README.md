# ノードとワイヤ

## ノード

Dynamo の**ノード**は、ビジュアル プログラムを形成するために接続するオブジェクトです。各**ノード**は、特定の操作を実行します。操作には、数値の保存といった単純なものもあれば、ジオメトリの作成やクエリーの実行といった複雑なものもあります。

### ノードの構造

Dynamo のほとんどのノードは、5 つのパーツで構成されています。入力ノードなどの例外はありますが、各ノードの構造は次のようになります。

![](images/nodesandwires-nodesanatomy.jpg)

> 1. 名前 - `Category.Name` の命名規則に準拠したノードの名前。
> 2. メイン - ノードの本体。ここを右クリックすると、ノード全体レベルのオプションが表示されます。
> 3. ポート(入力および出力) - ワイヤの出入り口。ノードに入力データを渡し、ノードのアクションの結果を出力します。
> 4. 既定値 - 入力ポートを右クリックすると、一部のノードでは既定値が表示されます。既定値は、使用しても使用しなくてもかまいません。
> 5. レーシング アイコン - 一致するリスト入力に対して指定されている[レーシング オプション](../5\_essential\_nodes\_and\_concepts/5-4\_designing-with-lists/1-whats-a-list.md#lacing)を示します(後で詳しく説明します)。

### ノードの入力/出力ポート

ノードの入力と出力はポートと呼ばれ、ワイヤの出入り口として機能します。データは左側のポートを経由して入力され、操作が実行されるとノードの右側から出力されます。

ポートは、特定のタイプのデータを受け取るように設定されています。たとえば、 _2.75_ という数値を Point.ByCoordinates ノードのポートに接続すると、点が正常に作成されます。ただし、同じポートに対して _「Red」_ を指定すると、エラーが発生します。

{% hint style="info" %} ヒント: ポートにカーソルを合わせると、そのポートの正しいデータ タイプを含むツールチップが表示されます。{% endhint %}

![](images/nodesandwires-nodesinputandtooltip.jpg)

> 1. ポートのラベル
> 2. ツールチップ
> 3. データ タイプ
> 4. 既定値

### ノードの状態

Dynamo は、各ノードのステータスに基づいて異なるカラー スキームでノードをレンダリングすることにより、ビジュアル プログラムの実行状態を示します。状態の階層は、エラー > 警告 > 情報 > プレビューの順に表示されます。

名前やポートにカーソルを合わせるか右クリックすると、追加の情報やオプションが表示されます。

![](../.gitbook/assets/nodesandwires-nodestates.png)

> 1. 入力が十分 - 入力ポートに青色の垂直バーがあるノードは、適切に接続され、すべての入力が正常に接続されています。
> 2. 入力が不十分 – 1 つ以上の入力ポートに赤色の垂直バーがあるノードでは、そのポートの入力を接続する必要があります。
> 3. 関数 – 関数を出力し、出力ポート上に灰色の垂直バーがあるノードは関数ノードです。
> 4. 選択済み - 現在選択されているノードは、縁が水色でハイライト表示されます。
> 5. フリーズ - 半透明の青色のノードは、フリーズされてノードの実行が停止しています。
> 6. プレビュー オフ - ノードの下の灰色のステータス バーと目のアイコン <img src="images/nodesandwires-previewoff.jpg" alt="" data-size="line"> は、ノードのジオメトリ プレビューがオフになっていることを示します。
> 7. 警告 - ノードの下の黄色のステータス バーは警告状態を示します。そのノードで入力データが不足しているか、不正なデータ タイプが含まれている可能性があることを意味しています。
> 8. エラー - ノードの下の赤色のステータス バーは、ノードがエラー状態にあることを示します。
> 9. 情報 - ノードの下の青色のステータス バーは情報状態を示し、ノードに関する有用な情報があることがわかります。この状態は、ノードによってサポートされる最大値に近づいた場合や、パフォーマンスに潜在的な影響を与える可能性のある方法でノードを使用している場合などに、トリガされることがあります。

#### エラー ノードまたは警告ノードを処理する

ビジュアル プログラムに警告やエラーが含まれている場合、その問題に関する追加情報が表示されます。また、黄色のノードでも、ノード名の上にツールチップが表示されます。警告 ![](images/nodesandwires-nodewarningicon.png) またはエラー ![](images/nodesandwires-nodeerroricon.png) ツールチップ アイコンにマウス カーソルを合わせて展開します。

{% hint style="info" % } 
ヒント: このツールチップ情報を使用して上流のノードを検査することにより、必要なデータ タイプまたはデータ構造にエラーがないか確認できます。
{% endhint %}

![](images/nodesandwires-nodeswithwarningtooltip.jpg)

> 1. 警告のツールチップ - 「Null」またはデータがない場合は、倍精度浮動小数点数つまり数値として認識されません。
> 2. Watch ノードを使用して入力データを検査します。
> 3. 上流の Number ノードに数値ではなく「red」が指定されています。

## ワイヤ

ワイヤは各ノードを接続してノード間の関係を作成し、ビジュアル プログラムのフローを確立します。ワイヤはその名前のとおり、特定のオブジェクトから次のオブジェクトにデータ パルスを送信するための電線と考えることができます。

### プログラム フロー <a href="#program-flow" id="program-flow"></a>

ワイヤは、特定のノードの出力ポートを別のノードの入力ポートに接続します。この接続により、ビジュアル プログラムの**データ フロー**が確立します。

入力ポートは左側にあり、出力ポートはノードの右側にあります。そのため、通常、プログラム フローは左から右に移動します。

![](images/nodesandwires-flowofdata.jpg)

### ワイヤを作成する <a href="#creating-wires" id="creating-wires"></a>

ポートを左クリックしてワイヤを作成し、続いて別のノードのポートを左クリックして接続を作成します。接続の作成中、ワイヤは破線で表示され、正常に接続されると実線に変わります。

データは常にこのワイヤを経由して出力から入力へと移動します。ただし、接続されているポートをクリックする順序によって、どちらの方向にもワイヤを作成できます。

![](images/nodesandwires-creatingawire.gif)

### ワイヤを編集する <a href="#editing-wires" id="editing-wires"></a>

多くの場合、ワイヤで表示されている接続を編集して、ビジュアル プログラムのプログラム フローを調整する必要が生じます。ワイヤを編集するには、既に接続されているノードの入力ポートを左クリックします。ワイヤを編集する場合の方法は 2 つあります。

* 入力ポートへの接続を変更するには、別の入力ポートを左クリックします。

![](images/nodesandwires-editwirechangeport(2).gif)

* ワイヤを削除するには、ワイヤを入力ポートから離してワークスペースを左クリックします。

![](images/nodesandwires-editwiresremove.gif)

* 複数のワイヤを再接続するには、Shift+ 左クリックを使用します。

![](images/nodesandwires-editmultiports.gif)

* ワイヤを複製するには、Ctrl+ 左クリックを使用します。

![](images/nodesandwires-duplicatewire.gif)

#### 既定のワイヤとハイライト表示されたワイヤ <a href="#wire-previews" id="wire-previews"></a>

既定では、ワイヤは灰色のストロークでプレビュー表示されます。ノードを選択すると、接続されているワイヤがそのノードと同じ水色でハイライト表示されます。

![](images/nodesandwires-defaultvshighlightedwires.jpg)

> 1. ハイライト表示されたワイヤ
> 2. 既定のワイヤ

**既定でワイヤを非表示**

グラフ内のワイヤを非表示にする場合は、[表示] > [コネクタ] > [コネクタを表示]のチェックを外します。

このように設定すると、選択したノードとその連結ワイヤのみが薄い水色でハイライト表示されます。

![](images/nodesandwires-hidewiressetting(1).gif)

#### 個別のワイヤのみを非表示

また、ノードの出力を右クリックして[ワイヤを非表示]を選択すると、選択したワイヤのみを非表示にすることができます。

![](images/nodesandwires-hideselectedwire.gif)
