# ノードとワイヤ

## ノード

Dynamo の**ノード**は、ビジュアル プログラムを形成するために接続するオブジェクトです。各**ノード**は、特定の操作を実行します。操作には、数値の保存といった単純なものもあれば、ジオメトリの作成やクエリーの実行といった複雑なものもあります。

### ノードの構造

Dynamo のほとんどのノードは、5 つのパーツで構成されています。入力ノードなどの例外はありますが、各ノードの構造は次のようになります。

![](<images/nodes and wires - nodes anatomy.jpg>)

> 1. 名前 - `Category.Name` の命名規則に準拠したノードの名前。
> 2. メイン - ノードの本体。ここを右クリックすると、ノード全体レベルのオプションが表示されます。
> 3. ポート(入力および出力) - ワイヤの出入り口。ノードに入力データを渡し、ノードのアクションの結果を出力します。
> 4. 既定値 - 入力ポートを右クリックすると、一部のノードでは既定値が表示されます。既定値は、使用しても使用しなくてもかまいません。
> 5. レーシング アイコン - 一致する list 入力に対して指定されている[レーシング オプション](../5\_essential\_nodes\_and\_concepts/5-4\_designing-with-lists/1-whats-a-list.md#lacing)を示します(後で詳しく説明します)

### ノードの入力/出力ポート

ノードの入力と出力はポートと呼ばれ、ワイヤの出入り口として機能します。データは左側のポートを経由して入力され、操作が実行されるとノードの右側から出力されます。

ポートは、特定のタイプのデータを受信するように設定されています。たとえば、_2.75_ という数値を Point.ByCoordinates ノードのポートに接続すると、点が正常に作成されます。ただし、同じポートに対して「_Red_」を指定すると、エラーが発生します。

{% hint style="info" %}
ヒント: ポートにカーソルを合わせると、そのポートの正しいデータ タイプを含むツールチップが表示されます。
{% endhint %}

![](<images/nodes and wires - nodes input and tooltip.jpg>)

> 1. ポートのラベル
> 2. ツールチップ
> 3. データ タイプ
> 4. 既定値

### ノードの状態

Dynamo は、各ノードのステータスに基づいて異なるカラー スキームでノードをレンダリングすることにより、ビジュアル プログラムの実行状態を示します。状態の階層は、エラー > 警告 > 情報 > プレビューの順に表示されます。

名前やポートにカーソルを合わせるか右クリックすると、追加の情報やオプションが表示されます。

![](<images/nodes and wires - node states.jpg>)

> 1. アクティブ - ノード名の背景がダーク グレーになっているノードは正常に接続されており、すべての入力が正常に接続されています。
> 2. エラー状態 - ノードの下にある赤いステータス バーは、ノードがエラー状態にあることを示します。
> 3. フリーズ - フリーズ状態のノードは半透明で表示されます。こうしたノードの実行は中止されています。
> 4. バックグラウンド プレビュー - ノードと目のアイコンの下のグレーのステータス バー![](<images/nodes and wires - preview off.jpg>)は、ジオメトリ プレビューがオフになっていることを示します。
> 5. 選択済み - 現在選択されているノードは、境界が水色でハイライト表示されます。
> 6. 警告 - ノードの下の黄色のステータス バーは、入力データが不足しているか、不正なデータ タイプである可能性があることを意味する警告状態を示します。

#### エラーまたは警告ノードを処理する

ビジュアル プログラムに警告やエラーが含まれている場合、その問題に関する追加情報が表示されます。また、黄色のノードでも、ノード名の上にツールチップが表示されます。警告![](<images/nodes and wires - node warning icon.png>)またはエラー![](<images/nodes and wires - node error icon.png>)ツールチップ アイコンにマウス カーソルを合わせて展開します。

{% hint style="info" %}
ヒント: このツールチップ情報を使用して上流のノードを検査することにより、必要なデータ タイプまたはデータ構造にエラーがないかどうかを確認することができます。
{% endhint %}

![](<images/nodes and wires - nodes with warning tooltip.jpg>)

> 1. 警告ツールチップ - 「Null」を指定した場合、またはデータを指定しなかった場合、倍精度浮動小数点数(数値)として認識されません。
> 2. Watch ノードを使用して入力データを検査します。
> 3. 上流の Number ノードに数値ではなく「Red」が指定されています。

## ワイヤ

ワイヤは各ノードを接続してノード間の関係を作成し、ビジュアル プログラムのフローを確立します。ワイヤはその名前のとおり、特定のオブジェクトから次のオブジェクトにデータ パルスを送信するための電線と考えることができます。

### プログラム フロー <a href="#program-flow" id="program-flow"></a>

ワイヤは、特定のノードの出力ポートを別のノードの入力ポートに接続します。この接続により、ビジュアル プログラムの**データ フロー**が確立します。

入力ポートは左側にあり、出力ポートはノードの右側にあります。そのため、通常、プログラム フローは左から右に移動します。

![](<images/nodes and wires - flow of data.jpg>)

### ワイヤを作成する <a href="#creating-wires" id="creating-wires"></a>

ポートを左クリックしてワイヤを作成し、続いて別のノードのポートを左クリックして接続を作成します。接続の作成中、ワイヤは破線で表示され、正常に接続されると実線に変わります。

データは常にこのワイヤを経由して出力から入力へと移動します。ただし、接続されている一連のポートをクリックすると、どちらの方向にもワイヤを作成できます。

![](<images/nodes and wires - creating a wire.gif>)

### ワイヤを編集する <a href="#editing-wires" id="editing-wires"></a>

多くの場合、ワイヤで表示されている接続を編集して、ビジュアル プログラムのプログラム フローを調整する必要が生じます。ワイヤを編集するには、既に接続されているノードの入力ポートを左クリックします。ワイヤを編集する場合の方法は 2 つあります。

* 入力ポートへの接続を変更するには、別の入力ポートを左クリックします。

![](<images/nodes and wires - edit wire change port (2).gif>)

* ワイヤを削除するには、ワイヤを入力ポートから離してワークスペースを左クリックします。

![](<images/nodes and wires - edit wires remove.gif>)

* Shift+ 左クリックを使用して複数のワイヤを再接続します。

![](<images/nodes and wires - edit multi ports.gif>)

* Ctrl+ 左クリックを使用してワイヤを複製します。

![](<images/nodes and wires - duplicate wire.gif>)

#### 既定のワイヤとハイライト表示されたワイヤ<a href="#wire-previews" id="wire-previews"></a>

既定では、ワイヤはグレーのストロークでプレビュー表示されます。特定のノードを選択すると、接続されているワイヤがそのノードと同じ水色でハイライト表示されます。

![](<images/nodes and wires - default vs highlighted wires.jpg>)

> 1. ハイライト表示されたワイヤ
> 2. 既定のワイヤ

**既定でワイヤを非表示**

グラフ内のワイヤを非表示にする場合は、[表示] > [コネクタ] > [コネクタを表示]のチェックを外すと、このオプションが表示されます。

この設定では、選択したノードとその連結ワイヤのみが薄い水色でハイライト表示されます。

![](<images/nodes and wires - hide wires setting (1).gif>)

#### 個別のワイヤのみを非表示

また、[ノード出力] > [ワイヤを非表示]を右クリックすることで、選択したワイヤのみを非表示にすることもできます。

![](<images/nodes and wires - hide selected wire.gif>)
